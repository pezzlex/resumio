{"ast":null,"code":"import _objectWithoutProperties from \"/Users/pezannekhambatta/Desktop/resumio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/pezannekhambatta/Desktop/resumio/packages/isomorphic-boilerplate-single/src/router.js\";\nimport Loader from '@iso/components/utility/loader';\nimport React, { lazy, Suspense } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport axios from 'axios';\nimport ErrorBoundary from './ErrorBoundary';\nimport { PUBLIC_ROUTE } from './route.constants';\nconst Dashboard = lazy(() => import('./containers/Dashboard/Dashboard'));\nconst publicRoutes = [{\n  path: PUBLIC_ROUTE.LANDING,\n  component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn'))\n}, {\n  path: PUBLIC_ROUTE.PAGE_500,\n  component: lazy(() => import('@iso/containers/Pages/500/500'))\n}, {\n  path: PUBLIC_ROUTE.SIGN_IN,\n  component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn'))\n}, {\n  path: PUBLIC_ROUTE.SIGN_UP,\n  component: lazy(() => import('@iso/containers/Pages/SignUp/SignUp'))\n}, {\n  path: PUBLIC_ROUTE.FORGET_PASSWORD,\n  component: lazy(() => import('./containers/Pages/ForgotPassword/ForgotPassword'))\n}, {\n  path: PUBLIC_ROUTE.RESET_PASSWORD,\n  component: lazy(() => import('@iso/containers/Pages/ResetPassword/ResetPassword'))\n}, {\n  path: PUBLIC_ROUTE.AUTH0_CALLBACK,\n  component: lazy(() => import('@iso/containers/Authentication/Auth0/Auth0Callback'))\n}];\n\nfunction PrivateRoute(_ref) {\n  let children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  const isLoggedIn = useSelector(state => state.Auth.token);\n  axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(localStorage.getItem('jwtToken'));\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => isLoggedIn ? children : /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/signin',\n        state: {\n          from: location\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default function Routes() {\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 27\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, publicRoutes.map((route, index) => /*#__PURE__*/React.createElement(Route, {\n    key: index,\n    exact: true,\n    path: route.path,\n    component: route.component,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(PrivateRoute, {\n    strict: true,\n    path: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    component: lazy(() => import('@iso/containers/Pages/404/404')),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/pezannekhambatta/Desktop/resumio/packages/isomorphic-boilerplate-single/src/router.js"],"names":["Loader","React","lazy","Suspense","useSelector","Redirect","Route","BrowserRouter","Router","Switch","axios","ErrorBoundary","PUBLIC_ROUTE","Dashboard","publicRoutes","path","LANDING","component","PAGE_500","SIGN_IN","SIGN_UP","FORGET_PASSWORD","RESET_PASSWORD","AUTH0_CALLBACK","PrivateRoute","children","rest","isLoggedIn","state","Auth","token","defaults","headers","common","localStorage","getItem","location","pathname","from","Routes","map","route","index"],"mappings":"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","sourcesContent":["import Loader from '@iso/components/utility/loader'\nimport React, { lazy, Suspense } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n  Redirect,\n  Route,\n  BrowserRouter as Router,\n  Switch,\n} from 'react-router-dom'\nimport axios from 'axios'\nimport ErrorBoundary from './ErrorBoundary'\nimport { PUBLIC_ROUTE } from './route.constants'\n\nconst Dashboard = lazy(() => import('./containers/Dashboard/Dashboard'))\n\nconst publicRoutes = [\n  {\n    path: PUBLIC_ROUTE.LANDING,\n    component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn')),\n  },\n  {\n    path: PUBLIC_ROUTE.PAGE_500,\n    component: lazy(() => import('@iso/containers/Pages/500/500')),\n  },\n  {\n    path: PUBLIC_ROUTE.SIGN_IN,\n    component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn')),\n  },\n  {\n    path: PUBLIC_ROUTE.SIGN_UP,\n    component: lazy(() => import('@iso/containers/Pages/SignUp/SignUp')),\n  },\n  {\n    path: PUBLIC_ROUTE.FORGET_PASSWORD,\n    component: lazy(() =>\n      import('./containers/Pages/ForgotPassword/ForgotPassword')\n    ),\n  },\n  {\n    path: PUBLIC_ROUTE.RESET_PASSWORD,\n    component: lazy(() =>\n      import('@iso/containers/Pages/ResetPassword/ResetPassword')\n    ),\n  },\n  {\n    path: PUBLIC_ROUTE.AUTH0_CALLBACK,\n    component: lazy(() =>\n      import('@iso/containers/Authentication/Auth0/Auth0Callback')\n    ),\n  },\n]\n\nfunction PrivateRoute({ children, ...rest }) {\n  const isLoggedIn = useSelector((state) => state.Auth.token)\n  axios.defaults.headers.common[\n    'Authorization'\n  ] = `Bearer ${localStorage.getItem('jwtToken')}`\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        isLoggedIn ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/signin',\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  )\n}\nexport default function Routes() {\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<Loader />}>\n        <Router>\n          <Switch>\n            {publicRoutes.map((route, index) => (\n              <Route\n                key={index}\n                exact\n                path={route.path}\n                component={route.component}\n              />\n            ))}\n            <PrivateRoute strict path=\"/dashboard\">\n              <Dashboard />\n            </PrivateRoute>\n            <Route\n              component={lazy(() => import('@iso/containers/Pages/404/404'))}\n            />\n          </Switch>\n        </Router>\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}