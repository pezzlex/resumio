{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n(function () {\n  var ArrayT, NumberT, utils;\n  NumberT = require('./Number').Number;\n  utils = require('./utils');\n\n  ArrayT = function () {\n    function ArrayT(type, length, lengthType) {\n      this.type = type;\n      this.length = length;\n      this.lengthType = lengthType != null ? lengthType : 'count';\n    }\n\n    ArrayT.prototype.decode = function (stream, parent) {\n      var ctx, i, length, pos, res, target, _i;\n\n      pos = stream.pos;\n      res = [];\n      ctx = parent;\n\n      if (this.length != null) {\n        length = utils.resolveLength(this.length, stream, parent);\n      }\n\n      if (this.length instanceof NumberT) {\n        Object.defineProperties(res, {\n          parent: {\n            value: parent\n          },\n          _startOffset: {\n            value: pos\n          },\n          _currentOffset: {\n            value: 0,\n            writable: true\n          },\n          _length: {\n            value: length\n          }\n        });\n        ctx = res;\n      }\n\n      if (length == null || this.lengthType === 'bytes') {\n        target = length != null ? stream.pos + length : (parent != null ? parent._length : void 0) ? parent._startOffset + parent._length : stream.length;\n\n        while (stream.pos < target) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      } else {\n        for (i = _i = 0; _i < length; i = _i += 1) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      }\n\n      return res;\n    };\n\n    ArrayT.prototype.size = function (array, ctx) {\n      var item, size, _i, _len;\n\n      if (!array) {\n        return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n      }\n\n      size = 0;\n\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n        ctx = {\n          parent: ctx\n        };\n      }\n\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        item = array[_i];\n        size += this.type.size(item, ctx);\n      }\n\n      return size;\n    };\n\n    ArrayT.prototype.encode = function (stream, array, parent) {\n      var ctx, i, item, ptr, _i, _len;\n\n      ctx = parent;\n\n      if (this.length instanceof NumberT) {\n        ctx = {\n          pointers: [],\n          startOffset: stream.pos,\n          parent: parent\n        };\n        ctx.pointerOffset = stream.pos + this.size(array, ctx);\n        this.length.encode(stream, array.length);\n      }\n\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        item = array[_i];\n        this.type.encode(stream, item, ctx);\n      }\n\n      if (this.length instanceof NumberT) {\n        i = 0;\n\n        while (i < ctx.pointers.length) {\n          ptr = ctx.pointers[i++];\n          ptr.type.encode(stream, ptr.val);\n        }\n      }\n    };\n\n    return ArrayT;\n  }();\n\n  module.exports = ArrayT;\n}).call(this);","map":{"version":3,"sources":["/Users/pezannekhambatta/Desktop/resumio/node_modules/restructure/src/Array.js"],"names":["ArrayT","NumberT","utils","require","Number","type","length","lengthType","prototype","decode","stream","parent","ctx","i","pos","res","target","_i","resolveLength","Object","defineProperties","value","_startOffset","_currentOffset","writable","_length","push","size","array","item","_len","encode","ptr","pointers","startOffset","pointerOffset","val","module","exports","call"],"mappings":"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","sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var ArrayT, NumberT, utils;\n\n  NumberT = require('./Number').Number;\n\n  utils = require('./utils');\n\n  ArrayT = (function() {\n    function ArrayT(type, length, lengthType) {\n      this.type = type;\n      this.length = length;\n      this.lengthType = lengthType != null ? lengthType : 'count';\n    }\n\n    ArrayT.prototype.decode = function(stream, parent) {\n      var ctx, i, length, pos, res, target, _i;\n      pos = stream.pos;\n      res = [];\n      ctx = parent;\n      if (this.length != null) {\n        length = utils.resolveLength(this.length, stream, parent);\n      }\n      if (this.length instanceof NumberT) {\n        Object.defineProperties(res, {\n          parent: {\n            value: parent\n          },\n          _startOffset: {\n            value: pos\n          },\n          _currentOffset: {\n            value: 0,\n            writable: true\n          },\n          _length: {\n            value: length\n          }\n        });\n        ctx = res;\n      }\n      if ((length == null) || this.lengthType === 'bytes') {\n        target = length != null ? stream.pos + length : (parent != null ? parent._length : void 0) ? parent._startOffset + parent._length : stream.length;\n        while (stream.pos < target) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      } else {\n        for (i = _i = 0; _i < length; i = _i += 1) {\n          res.push(this.type.decode(stream, ctx));\n        }\n      }\n      return res;\n    };\n\n    ArrayT.prototype.size = function(array, ctx) {\n      var item, size, _i, _len;\n      if (!array) {\n        return this.type.size(null, ctx) * utils.resolveLength(this.length, null, ctx);\n      }\n      size = 0;\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n        ctx = {\n          parent: ctx\n        };\n      }\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        item = array[_i];\n        size += this.type.size(item, ctx);\n      }\n      return size;\n    };\n\n    ArrayT.prototype.encode = function(stream, array, parent) {\n      var ctx, i, item, ptr, _i, _len;\n      ctx = parent;\n      if (this.length instanceof NumberT) {\n        ctx = {\n          pointers: [],\n          startOffset: stream.pos,\n          parent: parent\n        };\n        ctx.pointerOffset = stream.pos + this.size(array, ctx);\n        this.length.encode(stream, array.length);\n      }\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        item = array[_i];\n        this.type.encode(stream, item, ctx);\n      }\n      if (this.length instanceof NumberT) {\n        i = 0;\n        while (i < ctx.pointers.length) {\n          ptr = ctx.pointers[i++];\n          ptr.type.encode(stream, ptr.val);\n        }\n      }\n    };\n\n    return ArrayT;\n\n  })();\n\n  module.exports = ArrayT;\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}