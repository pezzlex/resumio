{"ast":null,"code":"import _objectSpread from \"/Users/pezannekhambatta/Desktop/resumio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport axios from 'axios';\nimport { LOGIN_USER, LOGOUT_USER, REGISTER_USER, LOGIN_FAILURE, LOGIN_SUCCESS, REGISTER_FAILURE, REGISTER_SUCCESS, CLEAR_STATUS, EMAIL_FAILURE, EMAIL_SUCCESS, SUCCESS, FAILURE, IS_VALID_LINK, IS_NOT_VALID_LINK } from './actions';\nconst initState = {\n  firstName: '',\n  lastName: '',\n  username: '',\n  email: '',\n  token: '',\n  error: '',\n  success: '',\n  isValidLink: false\n};\nexport default function authReducer(state = initState, action) {\n  switch (action.type) {\n    case LOGIN_USER:\n      console.log('about to login user');\n      localStorage.setItem('jwtToken', action.payload.token);\n      axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(action.payload.token);\n      return _objectSpread(_objectSpread(_objectSpread({}, state), action.payload), {}, {\n        error: ''\n      });\n\n    case LOGOUT_USER:\n      return initState;\n\n    case REGISTER_USER:\n      return _objectSpread(_objectSpread({}, state), action.payload);\n\n    case EMAIL_SUCCESS:\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n    case SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        success: action.payload\n      });\n\n    case REGISTER_FAILURE:\n    case LOGIN_FAILURE:\n      return _objectSpread(_objectSpread({}, initState), {}, {\n        error: action.payload\n      });\n\n    case FAILURE:\n    case EMAIL_FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.payload\n      });\n\n    case CLEAR_STATUS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: '',\n        success: ''\n      });\n\n    case IS_VALID_LINK:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isValidLink: true,\n        success: action.payload\n      });\n\n    case IS_NOT_VALID_LINK:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isValidLink: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/pezannekhambatta/Desktop/resumio/packages/isomorphic-boilerplate-single/src/redux/auth/reducer.js"],"names":["axios","LOGIN_USER","LOGOUT_USER","REGISTER_USER","LOGIN_FAILURE","LOGIN_SUCCESS","REGISTER_FAILURE","REGISTER_SUCCESS","CLEAR_STATUS","EMAIL_FAILURE","EMAIL_SUCCESS","SUCCESS","FAILURE","IS_VALID_LINK","IS_NOT_VALID_LINK","initState","firstName","lastName","username","email","token","error","success","isValidLink","authReducer","state","action","type","console","log","localStorage","setItem","payload","defaults","headers","common"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACEC,UADF,EAEEC,WAFF,EAGEC,aAHF,EAIEC,aAJF,EAKEC,aALF,EAMEC,gBANF,EAOEC,gBAPF,EAQEC,YARF,EASEC,aATF,EAUEC,aAVF,EAWEC,OAXF,EAYEC,OAZF,EAaEC,aAbF,EAcEC,iBAdF,QAeO,WAfP;AAiBA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,SAAS,EAAE,EADK;AAEhBC,EAAAA,QAAQ,EAAE,EAFM;AAGhBC,EAAAA,QAAQ,EAAE,EAHM;AAIhBC,EAAAA,KAAK,EAAE,EAJS;AAKhBC,EAAAA,KAAK,EAAE,EALS;AAMhBC,EAAAA,KAAK,EAAE,EANS;AAOhBC,EAAAA,OAAO,EAAE,EAPO;AAQhBC,EAAAA,WAAW,EAAE;AARG,CAAlB;AAWA,eAAe,SAASC,WAAT,CAAqBC,KAAK,GAAGV,SAA7B,EAAwCW,MAAxC,EAAgD;AAC7D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK1B,UAAL;AACE2B,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCL,MAAM,CAACM,OAAP,CAAeZ,KAAhD;AACApB,MAAAA,KAAK,CAACiC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CACE,eADF,qBAEcT,MAAM,CAACM,OAAP,CAAeZ,KAF7B;AAGA,2DACKK,KADL,GAEKC,MAAM,CAACM,OAFZ;AAGEX,QAAAA,KAAK,EAAE;AAHT;;AAKF,SAAKnB,WAAL;AACE,aAAOa,SAAP;;AACF,SAAKZ,aAAL;AACE,6CACKsB,KADL,GAEKC,MAAM,CAACM,OAFZ;;AAIF,SAAKtB,aAAL;AACA,SAAKL,aAAL;AACA,SAAKE,gBAAL;AACA,SAAKI,OAAL;AACE,6CACKc,KADL;AAEEH,QAAAA,OAAO,EAAEI,MAAM,CAACM;AAFlB;;AAIF,SAAK1B,gBAAL;AACA,SAAKF,aAAL;AACE,6CACKW,SADL;AAEEM,QAAAA,KAAK,EAAEK,MAAM,CAACM;AAFhB;;AAIF,SAAKpB,OAAL;AACA,SAAKH,aAAL;AACE,6CACKgB,KADL;AAEEJ,QAAAA,KAAK,EAAEK,MAAM,CAACM;AAFhB;;AAIF,SAAKxB,YAAL;AACE,6CACKiB,KADL;AAEEJ,QAAAA,KAAK,EAAE,EAFT;AAGEC,QAAAA,OAAO,EAAE;AAHX;;AAKF,SAAKT,aAAL;AACE,6CACKY,KADL;AAEEF,QAAAA,WAAW,EAAE,IAFf;AAGED,QAAAA,OAAO,EAAEI,MAAM,CAACM;AAHlB;;AAKF,SAAKlB,iBAAL;AACE,6CACKW,KADL;AAEEF,QAAAA,WAAW,EAAE,KAFf;AAGEF,QAAAA,KAAK,EAAEK,MAAM,CAACM;AAHhB;;AAKF;AACE,aAAOP,KAAP;AA1DJ;AA4DD","sourcesContent":["import axios from 'axios'\n\nimport {\n  LOGIN_USER,\n  LOGOUT_USER,\n  REGISTER_USER,\n  LOGIN_FAILURE,\n  LOGIN_SUCCESS,\n  REGISTER_FAILURE,\n  REGISTER_SUCCESS,\n  CLEAR_STATUS,\n  EMAIL_FAILURE,\n  EMAIL_SUCCESS,\n  SUCCESS,\n  FAILURE,\n  IS_VALID_LINK,\n  IS_NOT_VALID_LINK,\n} from './actions'\n\nconst initState = {\n  firstName: '',\n  lastName: '',\n  username: '',\n  email: '',\n  token: '',\n  error: '',\n  success: '',\n  isValidLink: false,\n}\n\nexport default function authReducer(state = initState, action) {\n  switch (action.type) {\n    case LOGIN_USER:\n      console.log('about to login user')\n      localStorage.setItem('jwtToken', action.payload.token)\n      axios.defaults.headers.common[\n        'Authorization'\n      ] = `Bearer ${action.payload.token}`\n      return {\n        ...state,\n        ...action.payload,\n        error: '',\n      }\n    case LOGOUT_USER:\n      return initState\n    case REGISTER_USER:\n      return {\n        ...state,\n        ...action.payload,\n      }\n    case EMAIL_SUCCESS:\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n    case SUCCESS:\n      return {\n        ...state,\n        success: action.payload,\n      }\n    case REGISTER_FAILURE:\n    case LOGIN_FAILURE:\n      return {\n        ...initState,\n        error: action.payload,\n      }\n    case FAILURE:\n    case EMAIL_FAILURE:\n      return {\n        ...state,\n        error: action.payload,\n      }\n    case CLEAR_STATUS:\n      return {\n        ...state,\n        error: '',\n        success: '',\n      }\n    case IS_VALID_LINK:\n      return {\n        ...state,\n        isValidLink: true,\n        success: action.payload,\n      }\n    case IS_NOT_VALID_LINK:\n      return {\n        ...state,\n        isValidLink: false,\n        error: action.payload,\n      }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}