{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _copy = _interopRequireDefault(require(\"../rect/copy\"));\n\nvar _crop = _interopRequireDefault(require(\"../rect/crop\"));\n\nvar _slice = _interopRequireDefault(require(\"../block/slice\"));\n\nvar _height = _interopRequireDefault(require(\"../block/height\"));\n\nvar _truncate = _interopRequireDefault(require(\"../block/truncate\"));\n\nvar _layoutParagraph = _interopRequireDefault(require(\"./layoutParagraph\"));\n\nvar _sliceAtHeight = _interopRequireDefault(require(\"../block/sliceAtHeight\"));\n/**\n * Layout paragraphs inside container until it does not\n * fit anymore, performing line wrapping in the process.\n *\n * @param  {Object}  engines\n * @param  {Object}  layout options\n * @param  {Object}  container rect\n * @param  {Object}  attributed strings (paragraphs)\n * @return {Array} paragraph blocks\n */\n\n\nvar typesetter = function typesetter(engines, options, container, attributedStrings) {\n  var blocks = [];\n  var paragraphs = [].concat(attributedStrings);\n  var maxLines = R.propOr(Infinity, 'maxLines', container);\n  var truncateEllipsis = container.truncateMode === 'ellipsis';\n  var linesCount = maxLines;\n  var paragraphRect = (0, _copy[\"default\"])(container);\n  var nextParagraph = paragraphs.shift();\n\n  while (linesCount > 0 && nextParagraph) {\n    var block = (0, _layoutParagraph[\"default\"])(engines, options)(paragraphRect, nextParagraph);\n    var slicedBlock = (0, _slice[\"default\"])(linesCount, block);\n    var linesHeight = (0, _height[\"default\"])(slicedBlock);\n    var shouldTruncate = truncateEllipsis && block.length !== slicedBlock.length;\n    linesCount -= slicedBlock.length;\n\n    if (paragraphRect.height >= linesHeight) {\n      blocks.push(R.when(R.always(shouldTruncate), _truncate[\"default\"])(slicedBlock));\n      paragraphRect = (0, _crop[\"default\"])(linesHeight, paragraphRect);\n      nextParagraph = paragraphs.shift();\n    } else {\n      blocks.push(R.compose(_truncate[\"default\"], (0, _sliceAtHeight[\"default\"])(paragraphRect.height))(slicedBlock));\n      break;\n    }\n  }\n\n  return blocks;\n};\n\nvar _default = R.curryN(4, typesetter);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/pezannekhambatta/Desktop/resumio/node_modules/@react-pdf/textkit/layout/typesetter.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","R","_copy","_crop","_slice","_height","_truncate","_layoutParagraph","_sliceAtHeight","typesetter","engines","options","container","attributedStrings","blocks","paragraphs","concat","maxLines","propOr","Infinity","truncateEllipsis","truncateMode","linesCount","paragraphRect","nextParagraph","shift","block","slicedBlock","linesHeight","shouldTruncate","length","height","push","when","always","compose","_default","curryN"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _copy = _interopRequireDefault(require(\"../rect/copy\"));\n\nvar _crop = _interopRequireDefault(require(\"../rect/crop\"));\n\nvar _slice = _interopRequireDefault(require(\"../block/slice\"));\n\nvar _height = _interopRequireDefault(require(\"../block/height\"));\n\nvar _truncate = _interopRequireDefault(require(\"../block/truncate\"));\n\nvar _layoutParagraph = _interopRequireDefault(require(\"./layoutParagraph\"));\n\nvar _sliceAtHeight = _interopRequireDefault(require(\"../block/sliceAtHeight\"));\n\n/**\n * Layout paragraphs inside container until it does not\n * fit anymore, performing line wrapping in the process.\n *\n * @param  {Object}  engines\n * @param  {Object}  layout options\n * @param  {Object}  container rect\n * @param  {Object}  attributed strings (paragraphs)\n * @return {Array} paragraph blocks\n */\nvar typesetter = function typesetter(engines, options, container, attributedStrings) {\n  var blocks = [];\n  var paragraphs = [].concat(attributedStrings);\n  var maxLines = R.propOr(Infinity, 'maxLines', container);\n  var truncateEllipsis = container.truncateMode === 'ellipsis';\n  var linesCount = maxLines;\n  var paragraphRect = (0, _copy[\"default\"])(container);\n  var nextParagraph = paragraphs.shift();\n\n  while (linesCount > 0 && nextParagraph) {\n    var block = (0, _layoutParagraph[\"default\"])(engines, options)(paragraphRect, nextParagraph);\n    var slicedBlock = (0, _slice[\"default\"])(linesCount, block);\n    var linesHeight = (0, _height[\"default\"])(slicedBlock);\n    var shouldTruncate = truncateEllipsis && block.length !== slicedBlock.length;\n    linesCount -= slicedBlock.length;\n\n    if (paragraphRect.height >= linesHeight) {\n      blocks.push(R.when(R.always(shouldTruncate), _truncate[\"default\"])(slicedBlock));\n      paragraphRect = (0, _crop[\"default\"])(linesHeight, paragraphRect);\n      nextParagraph = paragraphs.shift();\n    } else {\n      blocks.push(R.compose(_truncate[\"default\"], (0, _sliceAtHeight[\"default\"])(paragraphRect.height))(slicedBlock));\n      break;\n    }\n  }\n\n  return blocks;\n};\n\nvar _default = R.curryN(4, typesetter);\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}